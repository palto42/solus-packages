name       : pdfsam
version    : 5.2.2
release    : 9
source     :
    - https://github.com/torakiki/pdfsam/releases/download/v5.2.2/pdfsam-5.2.2-linux.tar.gz : 513cf9552a18d80d628062d245b897ecb8b3c57a4dc141789156fedbf14ca048
homepage   : https://pdfsam.org/
license    : AGPL-3.0-only
component  : office
summary    : PDFsam Basic, a free, open source, multi-platform software designed to split, merge, extract pages, mix and rotate PDF files.
description: |
    PDFsam Basic, a free, open source, multi-platform software designed to split, merge, extract pages, mix and rotate PDF files.
rundeps    :
    - openjdk-21
setup      : |
    # extract icons
    bsdtar -xf lib/pdfsam-basic-$version.jar images/basic
    
install    : |
    install -dm755 "${installdir}/usr/share/java/pdfsam"
    install -Dm644 "lib/"* "${installdir}/usr/share/java/pdfsam"
    install -dm755 "${installdir}/usr/share/pdfsam"
    install -Dm644 "splash.png" "${installdir}/usr/share/pdfsam"

    # exec
    install -Dm755 "${pkgfiles}/pdfsam" "${installdir}/usr/bin/pdfsam"

    # icons
    for _icon in 16 24 32 48 64 96 128 256 512; do
        install -Dm644 images/basic/${_icon}x${_icon}.png \
            "${installdir}/usr/share/icons/hicolor/${_icon}x${_icon}/apps/pdfsam.png"
    done

    # desktop
    install -Dm00644 $pkgfiles/pdfsam.desktop -t $installdir/usr/share/applications
